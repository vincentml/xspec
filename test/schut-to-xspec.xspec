<?xml version="1.0" encoding="UTF-8"?>
<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
    xmlns:s="http://www.jenitennison.com/xslt/xspec/schematron" stylesheet="../src/schematron/schut-to-xspec.xsl">
    <x:param name="stylesheet" select="'schut-to-xspec-test.sch.xsl'"/>
    <x:scenario label="templates">
        <x:scenario label="identity">
            <x:context>
                <example attr="1">
                    <!-- comment -->
                    <?pi?>
                    <p>this is a <i>mixed</i> text <b> example</b>.</p>
                    <other xmlns="other">foreign</other>
                </example>
            </x:context>
            <x:expect label="copied">
                <example attr="1">
                    <!-- comment -->
                    <?pi?>
                    <p>this is a <i>mixed</i> text <b> example</b>.</p>
                    <other xmlns="other">foreign</other>
                </example>
            </x:expect>
        </x:scenario>
        <x:scenario label="Schut to XSpec namespace">
            <x:context>
                <pending label="test" xmlns="http://www.jenitennison.com/xslt/xspec/schematron">
                    <!-- comment -->
                    <?pi?>
                    <p>this is a <i>mixed</i> text <b> example</b>.</p>
                    <other xmlns="other">foreign</other>
                </pending>
            </x:context>
            <x:expect label="copied to XSpec namespace">
                <pending label="test" xmlns="http://www.jenitennison.com/xslt/xspec">
                    <!-- comment -->
                    <?pi?>
                    <p>this is a <i>mixed</i> text <b> example</b>.</p>
                    <other xmlns="other">foreign</other>
                </pending>
            </x:expect>
        </x:scenario>
        <x:scenario label="xml-model">
            <x:context>
                <test>
                    <?xml-model href="schut.rnc" type="application/relax-ng-compact-syntax"?>
                </test>
            </x:context>
            <x:expect label="xml-model removed">
                <test></test>
            </x:expect>
        </x:scenario>
    </x:scenario>    
    <x:scenario label="description">
        <x:scenario label="no phase">
            <x:context href="schematron/schut-to-xspec-001.schut.xml"/>
            <x:expect label="xspec description" href="schematron/schut-to-xspec-001.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="with phase">
            <x:context href="schematron/schut-to-xspec-011.schut.xml"/>
            <x:expect label="xspec description" href="schematron/schut-to-xspec-011.xspec" select="x:description"/>
        </x:scenario>
    </x:scenario>
    <x:scenario label="namespaces defined in Schematron">
        <x:context href="schematron/schut-to-xspec-002.schut.xml"/>
        <x:expect label="copied from sch:ns to x:description" href="schematron/schut-to-xspec-002.xspec" select="x:description"/>
    </x:scenario>
    <x:scenario label="scenario">
        <x:scenario label="nested">
            <x:context href="schematron/schut-to-xspec-003.schut.xml"/>
            <x:expect label="nested scenarios" href="schematron/schut-to-xspec-003.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="pending">
            <x:context href="schematron/schut-to-xspec-004.schut.xml"/>
            <x:expect label="pending scenarios" href="schematron/schut-to-xspec-004.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="focus">
            <x:context href="schematron/schut-to-xspec-005.schut.xml"/>
            <x:expect label="focused scenario" href="schematron/schut-to-xspec-005.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="shared">
            <x:context href="schematron/schut-to-xspec-006.schut.xml"/>
            <x:expect label="shared scenarios" href="schematron/schut-to-xspec-006.xspec" select="x:description"/>
        </x:scenario>
    </x:scenario>
    <x:scenario label="context">
        <x:scenario label="file">
            <x:context href="schematron/schut-to-xspec-007.schut.xml"/>
            <x:expect label="context href" href="schematron/schut-to-xspec-007.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="inline" pending="Can't test inline context because of error: &#34;XTDE1480: Cannot execute xsl:result-document while evaluating xsl:variable&#34;">
            <x:context href="schematron/schut-to-xspec-008.schut.xml"/>
            <x:expect label="context href to generated file" href="schematron/schut-to-xspec-008.xspec" select="x:description"/>
        </x:scenario>
    </x:scenario>
    <x:scenario label="import">
        <x:scenario label="type schut (default)">
            <x:context href="schematron/schut-to-xspec-009.schut.xml"/>
            <x:expect label="copy contents of imported file" href="schematron/schut-to-xspec-009.xspec" select="x:description"/>
        </x:scenario>
        <x:scenario label="type xspec">
            <x:context href="schematron/schut-to-xspec-010.schut.xml"/>
            <x:expect label="import href" href="schematron/schut-to-xspec-010.xspec" select="x:description"/>
        </x:scenario>
    </x:scenario>
    <x:scenario label="assertions">
        <x:context href="schut-to-xspec-012.schut"/>
        <x:expect label="expect elements with correct label and test" href="schematron/schut-to-xspec-012.xspec" select="x:description"/>
    </x:scenario>
</x:description>
